# 80. 删除有序数组中的重复项 II

## 题目

给你一个有序数组 nums ，请你 原地 删除重复出现的元素，使得出现次数超过两次的元素只出现两次 ，返回删除后数组的新长度。

不要使用额外的数组空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。

## 思路

双指针

边界值判断

初始值

逻辑

## 题解

```java
class Solution {
    public int removeDuplicates(int[] nums) {
        int n=nums.length;
        if (n<=2){
            return n;
        }
        int fast=2,slow=2;
        while(fast<n){
           if(nums[fast]!=nums[slow-2]){
               nums[slow]=nums[fast];
               ++slow;
           } 
           ++fast;
        }
        return slow;
    }
}
```



```python
class Solution(object):
    def removeDuplicates(self, nums):
        n=len(nums)
        if n <= 2:
            return n
        fast=slow=2
        while fast<n:
            if nums[slow-2]!=nums[fast]:
                nums[slow]=nums[fast]
                slow+=1
            fast+=1
        return slow
```

## 复杂度

时间复杂度：O(n) 快指针和慢指针最多移动n次

空间复杂度：O(1)只需要使用常数的额外空间

## 扩展

保留前n个数相同

```python
class Solution {
    public int removeDuplicates(int[] nums) {
       return process(nums,2);
    }
    public int process(int []nums, int k){
        int slow=0;
        for(int fast:nums){
            if(slow<k||fast!=nums[slow-k]){
                nums[slow++]=fast;
            }
        }
        return slow;
    }
}
```



```python
class Solution(object):
    def removeDuplicates(self, nums):
        def proccess(k):
            slow=0
            for fast in nums:
                if slow<k or fast!=nums[slow-k]:
                    nums[slow]=fast
                    slow+=1
            return slow
        return proccess(2)
```

